{% extends 'partials/main.html.twig' %}

{% set title = 'Editar Equipo de Trabajo' %}

{% block content %}

    {{ include('partials/page-title.html.twig', {page: 'Equipos', title: title, titlephather: 'Listado de Equipos de Trabajo', pathfather: 'app_team_index'}) }}

    <div class="row">
        <div class="col-lg-6">
            {{ form_start(form, {'attr': {'class': 'needs-validation', 'novalidate': 'novalidate'}}) }}
            <div class="card">
                <div class="card-body">
                    <div class="row g-2">
                        <div class="col-sm-8">
                            <div class="search-box">
                                {{ form_widget(form.name) }}
                                <i class="ri-edit-2-line search-icon"></i>
                            </div>
                        </div>
                        <!--end col-->
                        <div class="col-sm-auto ms-auto">
                            <div class="list-grid-nav hstack gap-1">
                                <button class="btn btn-primary">
                                    <i class="ri-save-line me-1 align-bottom"></i> {{ button_label|default('Guardar') }}
                                </button>
                                <button type="button" id="grid-view-button"
                                        class="btn btn-soft-info nav-link btn-icon fs-14 active filter-button">
                                    <i class="ri-grid-fill"></i>
                                </button>
                                <button type="button" id="list-view-button"
                                        class="btn btn-soft-info nav-link btn-icon fs-14 filter-button">
                                    <i class="ri-list-unordered"></i>
                                </button>
                            </div>
                        </div>
                        <!--end col-->
                    </div>
                    <!--end row-->
                </div>
            </div>
            {{ form_end(form) }}
        </div>

        <div class="col-lg-6">
            {{ form_start(formMember, {'attr': {'class': 'needs-validation', 'novalidate': 'novalidate'}}) }}
            <div class="card">
                <div class="card-body">
                    <div class="row g-2">
                        <div class="col-sm-8">
                            <div class="search-box">
                                {{ form_widget(formMember.member) }}
                            </div>
                        </div>
                        <!--end col-->
                        <div class="col-sm-auto ms-auto">
                            <div class="list-grid-nav hstack gap-1">
                                <button class="btn btn-success">
                                    <i class="ri-add-fill me-1 align-bottom"></i> {{ button_label|default('Adicionar miembro') }}
                                </button>
                            </div>
                        </div>
                        <!--end col-->
                    </div>
                    <!--end row-->
                </div>
            </div>
            {{ form_end(formMember) }}
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12">
            <div>
                <div class="team-list grid-view-filter row">

                    {% for member in members %}

                        <div class="col">
                            <div class="card team-box">
                                <div class="team-cover">
                                    <img src="{{ asset('images/small/img-' ~ random(1, 12) ~ '.jpg') }}" alt="" class="img-fluid"/>
                                </div>
                                <div class="card-body p-4">
                                    <div class="row align-items-center team-row">
                                        <div class="col team-settings">
                                            <div class="row">
                                                <div class="col">
                                                    <div class="bookmark-icon flex-shrink-0 me-2"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col">
                                            <div class="team-profile-img">
                                                <div class="avatar-lg img-thumbnail rounded-circle flex-shrink-0">
                                                    <div class="avatar-title border bg-light text-primary rounded-circle text-uppercase">
                                                        {{ member.name|slice(0, 2) }}
                                                    </div>
                                                </div>
                                                <div class="team-content">
                                                    <a data-bs-toggle="offcanvas" href="#">
                                                        <h5 class="fs-17 mb-1">{{ member.name|upper }}</h5>
                                                    </a>
                                                    <p class="text-muted mb-0">{{ member.email }}</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col">
                                            <div class="row text-muted text-center">
                                                <div class="col-6 border-end border-end-dashed">
                                                    <h5 class="mb-1">{{ member.id }}</h5>
                                                    <p class="text-muted mb-0">ID</p>
                                                </div>
                                                <div class="col-6">
                                                    <h5 class="mb-1">{{ member.dateCreated|date('Y-m-d') }}</h5>
                                                    <p class="text-muted mb-0">Creado</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-2 col">
                                            <div class="text-end">
                                                <a href="#" class="btn btn-danger view-btn">ELiminar miembro</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--end card-->
                        </div>

                    {% else %}


                        <div class="py-4 mt-4 text-center" id="noresult">
                            <lord-icon src="https://cdn.lordicon.com/msoeawqm.json" trigger="loop"
                                       colors="primary:#405189,secondary:#0ab39c"
                                       style="width:72px;height:72px"></lord-icon>
                            <h5 class="mt-4">No se han encontrado miembros asociados</h5>
                        </div>

                    {% endfor %}

                </div>
                <!--end row-->


            </div>
        </div><!-- end col -->
    </div>
    <!--end row-->

    <svg class="bookmark-hide">
        <symbol viewBox="0 0 24 24" stroke="currentColor" fill="var(--color-svg)" id="icon-star">
            <path stroke-width=".4"
                  d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path>
        </symbol>
    </svg>

{% endblock %}

{% block javascripts %}

    {{ parent() }}

    <!-- prismjs plugin -->
    <script src="{{ asset('libs/prismjs/prism.js') }}"></script>

    <script src="{{ asset('js/pages/form-validation.init.js') }}"></script>

    <!-- team init js -->
    <script src="{{ asset('js/pages/team.init.js') }}"></script>

{% endblock %}
